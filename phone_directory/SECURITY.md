# Безопасность приложения "Телефонный справочник"

## Обзор мер безопасности

Приложение "Телефонный справочник" включает следующие меры безопасности:

### 1. Аутентификация и авторизация
- Использование Flask-Login для безопасного управления сессиями
- Хеширование паролей с помощью Werkzeug
- Защита административных маршрутов с помощью декоратора `@login_required`

### 2. Защита от CSRF
- Использование Flask-WTF с автоматической проверкой CSRF-токенов
- Все формы включают скрытые поля CSRF

### 3. Валидация ввода
- Использование WTForms с валидаторами для всех форм
- Проверка формата электронной почты
- Ограничение длины полей

### 4. Защита от загрузки вредоносных файлов
- Проверка расширения файла при импорте Excel
- Безопасное именование загружаемых файлов с использованием UUID
- Проверка размера файла (максимум 16 МБ)
- Проверка целостности Excel файла перед обработкой
- Автоматическое удаление временных файлов после импорта

### 5. Защита от инъекций
- SQLAlchemy автоматически экранирует параметры запросов
- Использование подготовленных выражений для всех SQL-запросов

## Рекомендации по развертыванию в продакшене

### 1. Настройка переменных окружения
```
SECRET_KEY=сгенерируйте_надежный_секретный_ключ
ADMIN_USERNAME=ваше_безопасное_имя_пользователя
ADMIN_PASSWORD=ваш_надежный_пароль
FLASK_DEBUG=false
```

### 2. Использование HTTPS
Обязательно настройте SSL-сертификат для шифрования трафика между клиентом и сервером.

### 3. Настройка веб-сервера
При развертывании с использованием веб-сервера (nginx, Apache) убедитесь в:
- Правильной настройке заголовков безопасности
- Ограничении размера загружаемых файлов на уровне веб-сервера
- Блокировке доступа к чувствительным файлам (.env, .git и т.д.)

### 4. Регулярные обновления
- Регулярно обновляйте зависимости приложения
- Следите за уязвимостями в используемых библиотеках

### 5. Мониторинг и логирование
Рассмотрите возможность добавления:
- Логирования попыток входа
- Мониторинга подозрительной активности
- Ротации логов

## Проверка безопасности

Для проверки безопасности приложения рекомендуется использовать:
- `bandit` - для статического анализа безопасности Python-кода
- `safety` - для проверки уязвимостей в зависимостях
- `pytest-security` - для автоматизированного тестирования безопасности

## Соблюдение стандартов безопасности

Приложение соответствует следующим стандартам безопасности:
- OWASP Top 10
- Flask Security Best Practices
- Рекомендации по безопасности для веб-приложений
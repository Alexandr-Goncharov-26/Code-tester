# Структура проекта "Телефонный справочник"

## Общая структура

```
phone_directory/
├── app/
│   ├── __init__.py          # Инициализация Flask-приложения
│   ├── models.py            # Модели базы данных (Contact, AdminUser)
│   ├── views.py             # (не используется, логика в routes.py)
│   ├── forms.py             # Формы для валидации данных
│   ├── routes.py            # Маршруты приложения
│   └── utils.py             # Вспомогательные функции (импорт/экспорт Excel)
├── config/
│   ├── __init__.py
│   └── config.py            # Конфигурационные параметры
├── static/
│   ├── css/
│   │   └── style.css        # Стили приложения
│   ├── js/
│   │   └── main.js          # JavaScript функции
│   └── uploads/             # Временные файлы для импорта/экспорта
├── templates/
│   ├── base.html            # Базовый шаблон
│   ├── public/
│   │   └── directory.html   # Публичный доступ к справочнику
│   └── admin/
│       ├── login.html       # Страница входа для администратора
│       ├── dashboard.html   # Главная страница админ-панели
│       ├── create.html      # Форма создания контакта
│       ├── edit.html        # Форма редактирования контакта
│       └── delete.html      # (не используется, логика в dashboard)
├── migrations/              # Миграции базы данных (SQLAlchemy Alembic)
├── tests/                   # Тесты приложения
├── instance/                # Локальные файлы (в т.ч. база данных)
│   └── phone_directory.db   # База данных SQLite
├── requirements.txt         # Зависимости Python
├── run.py                   # Точка запуска приложения
├── init_db.py               # Скрипт инициализации базы данных
├── .env                     # Переменные окружения
├── README.md                # Документация проекта
└── check_db.py              # Скрипт проверки структуры БД
```

## Описание ключевых компонентов

### app/models.py
Содержит две модели:
- `Contact`: основная модель для хранения контактной информации
  - `full_name`: ФИО (обязательное поле)
  - `work_phone`: Рабочий телефон
  - `mobile_phone`: Сотовый телефон
  - `email`: Электронная почта
  - `notes`: Примечания
- `AdminUser`: модель для аутентификации администратора

### app/routes.py
Содержит все маршруты приложения:
- Публичный доступ: `/` - просмотр справочника
- Администрирование: `/admin/` - панель управления
- Аутентификация: `/admin/login`, `/admin/logout`
- CRUD операции: `/admin/create`, `/admin/edit/<id>`, `/admin/delete/<id>`
- Импорт/экспорт: `/admin/export`, `/admin/import`

### templates/
Шаблоны разделены на:
- `public/` - публичные страницы (доступны всем пользователям)
- `admin/` - административные страницы (требуют аутентификации)

### static/
Содержит статические ресурсы:
- `css/style.css` - основные стили
- `js/main.js` - клиентские скрипты
- `uploads/` - временные файлы для импорта/экспорта Excel

## Функциональные возможности

### Для обычных пользователей:
- Просмотр телефонного справочника
- Поиск по справочнику

### Для администраторов:
- Вход в систему по паролю
- Создание новых контактов
- Редактирование существующих контактов
- Удаление контактов
- Экспорт данных в Excel
- Импорт данных из Excel

## Безопасность
- Администраторы аутентифицируются с помощью Flask-Login
- Пароли хранятся в виде хешей
- Доступ к административным функциям только после аутентификации

## Технологии
- Flask - веб-фреймворк
- SQLAlchemy - ORM для работы с базой данных
- SQLite - файловая база данных
- Bootstrap 5 - CSS-фреймворк для стилизации
- openpyxl - работа с Excel файлами